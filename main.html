<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, minimum-scale=1.0">
    	 <link rel="stylesheet" href="index.css" type="text/css" media="all">
    <title>Site</title>
  </head>
  <body>
   <div class="Bloc-onecontainer">
      <div class="img-one-bloc-one logo" id="logo-selection"></div>
     <div class="txt-centerltcontainer">
       <div id="étape-title">
         <h2>Étape 1 </h2>
       </div>
       <div id="étape-txt">
         <h3>Création du motif: face </h3>
       </div>
          </div>
       <div class="txt-rightltcontainer">
         <div class="right-txt">
           <button onclick="fonctionEtape()">Étape suivante</button>
          </div>
        </div>
       </div>
   </div>

   <div class="Bloc-twocontainer">
       <div class="group-img-twocontainer">
          <div class="img-two-container sweat-vu-1"></div>
          <div class=" img-two-container sweat-vu-2"></div>
          <div class="img-two-container sweat-vu-3"></div>
          <div class="img-two-container sweat-vu-4"></div>
       </div>
        <div class="sweat-wrapper">
       <div class="sweat-container">
          <div class="img-two-bloc-two sweat" id="sweat-etape1"></div> <div id="textOverlay"></div>
          <div class="img-two-bloc-two sweat2" id="sweat-etape2"></div>
          <div class="img-two-bloc-two sweat3" id="sweat-etape3" ></div>
          <div class="img-two-bloc-two sweat4" id="sweat-etape4"></div>
        </div>
       </div>
       </div>

    <div class="Bloc-threecontainer" id="selection-1">
      <div class="row-threecontainer">
        <div class="icon-row-threecontainer"></div>
        <button class="img-row-threecontainer sweat-motif-1"></button>
        <button class="img-row-threecontainer sweat-motif-2"></button>
        <button class="img-row-threecontainer sweat-motif-3"></button>
        <button class="img-row-threecontainer sweat-motif-4"></button>
        <button class="img-row-threecontainer sweat-motif-5"></button>
        <button class="img-row-threecontainer sweat-motif-6"></button>
        <button class="img-row-threecontainer sweat-motif-7"></button>
      </div>
    </div>

    <!--
    <div class="Bloc-2-threecontainer">
      <div class="column-threecontainer">
      </div>
      <div class="row-2-threecontainer">
        <div class="icon-2-row-threecontainer"></div>
        <div class="position-2-row-threecontainer haut-position-2" > <button> Haut gauche</button> </div>
        <div class="position-2-row-threecontainer bas-position-2"> <button> Haut droite </button> </div>
        <div class="position-2-row-threecontainer gauche-position-2"> <button> Bas gauche </button> </div>
        <div class="position-2-row-threecontainer droite-position-2"> <button> Bas droite </button> </div>
        <div class="position-2-icon-row-threecontainer">
        <div class="icon-arrow"> <img src="ICON/rightarrow-white.svg"> </div>
      </div>
      </div>
    </div>
    -->

  <div class="Bloc-4-threecontainer">
      <button class="downloadButton">Télécharger</button>
  </div>

  <div class="Bloc-3-threecontainer">
    <div class="column-3-threecontainer">
    </div>
    <div class="row-3-threecontainer">

      <p>Taille du texte :</p><input type="range" id="sizeSlider" min="10" max="40" step="2" value="20">

      <input type="text" id="myText" name="name" required minlength="4" maxlength="20" size="10" placeholder="Entrez le texte sélectionné">

      <input type="color" id="colorPicker">
      <p>Opacité :</p><input type="range" id="opacitySlider" min="0" max="1" step="0.1" value="1">
      <script>
        var textInput = document.getElementById("textOverlay");
        var colorPicker = document.getElementById("colorPicker");
        var opacitySlider = document.getElementById("opacitySlider");
        var sizeSlider = document.getElementById("sizeSlider");

        colorPicker.addEventListener("change", updateText);
        opacitySlider.addEventListener("input", updateText);
        sizeSlider.addEventListener("input", updateText);

        function updateText() {
          var selectedColor = colorPicker.value;
          var enteredText = textInput.value;
          var opacity = opacitySlider.value;
          var fontSize = sizeSlider.value + "px";

          // Faites quelque chose avec la couleur sélectionnée, le texte entré et l'opacité
          console.log("Texte saisi : " + enteredText);
          console.log("Couleur sélectionnée : " + selectedColor);
          console.log("Opacité : " + opacity);
          console.log("Taille de police : " + fontSize);

          // Mise à jour du style de l'élément texte avec la couleur et l'opacité sélectionnées
          textInput.style.color = selectedColor;
          textInput.style.opacity = opacity;
          textInput.style.fontSize = fontSize;
        }
      </script>



      <script 
        src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" 
        integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer">
    </script>

    <script>
        var screenShot = document.querySelector(".downloadButton");

        function screenX(){
            var canvasPromise = html2canvas(document.querySelector("#sweat-etape1"), {
                useCORS: true
            });

            canvasPromise.then((canvas)=>{
                console.log(canvas);

                //document.body.appendChild(canvas);

                var dataURL = canvas.toDataURL("image/png");
                console.log(dataURL);

                var img = new Image();
                img.src = dataURL;
                img.download = "helooooi";

                var a = document.createElement("a");
                a.innerHTML = "Download your image";
                a.target = "_blank";

                a.href = img.src;

                a.download = img.download;

                document.body.appendChild(a);
                a.click()
                a.remove()
            })
        }

        screenShot.addEventListener("click",screenX);
    </script>


   



  <script type="text/javascript" src="index.js"></script>

  </body>


</html>
